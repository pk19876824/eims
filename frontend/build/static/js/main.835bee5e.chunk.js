(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{169:function(e,t,a){e.exports=a(334)},174:function(e,t,a){},175:function(e,t){},334:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),o=a(7),r=a.n(o),i=(a(174),a(335)),s=(a(127),a(52)),c=a(88),d=a(89),u=a(98),m=a(90),h=a(42),g=a(99),p=a(28),b=a(340),f=a(336),v=a(72),E=a.n(v),y=a(76),w=a(9),x=a(341),D=a(337),O=a(339),C=a(338),j=y.a.Option,S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).showDrawer=function(){a.setState({visible:!0})},a.onClose=function(){a.setState({visible:!1})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||(console.log("Received values of form: ",t),a.fetch(t))})},a.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("params:",e),E()({url:t.ADD_EMPLOYEE_URL,method:"post",data:Object(s.a)({},e),type:"json"}).then(function(e){0===e.status.code?(a.setState({visible:!1}),a.updateTableData()):alert(e.status.msg)})},a.state={visible:!1},a.updateTableData=a.updateTableData.bind(Object(h.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"updateTableData",value:function(){this.props.updateTableData()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return l.a.createElement("div",null,l.a.createElement(p.a,{type:"primary",onClick:this.showDrawer},l.a.createElement(w.a,{type:"plus"}),"\u6dfb\u52a0\u5458\u5de5"),l.a.createElement(x.a,{title:"\u6dfb\u52a0\u5458\u5de5",width:400,onClose:this.onClose,visible:this.state.visible},l.a.createElement(D.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit.bind(this)}),l.a.createElement(D.a.Item,{label:"\u59d3\u540d"},e("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u59d3\u540d!"}]})(l.a.createElement(O.a,null))),l.a.createElement(D.a.Item,{label:"\u6027\u522b"},e("gender",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6027\u522b!"}]})(l.a.createElement(y.a,{placeholder:"\u8bf7\u9009\u62e9\u6027\u522b"},l.a.createElement(j,{value:"0"},"\u7537"),l.a.createElement(j,{value:"1"},"\u5973")))),l.a.createElement(D.a.Item,{label:"\u51fa\u751f\u65e5\u671f"},e("birthday",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u51fa\u751f\u65e5\u671f!"}]})(l.a.createElement(C.a,{placeholder:"\u8bf7\u9009\u62e9\u751f\u65e5"}))),l.a.createElement(D.a.Item,{label:"\u90e8\u95e8"},e("department",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u90e8\u95e8!"}]})(l.a.createElement(y.a,{placeholder:"\u8bf7\u9009\u62e9\u90e8\u95e8"},l.a.createElement(j,{value:"1"},"\u4ea7\u54c1\u90e8"),l.a.createElement(j,{value:"2"},"\u6280\u672f\u90e8"),l.a.createElement(j,{value:"3"},"\u8fd0\u8425\u90e8"),l.a.createElement(j,{value:"4"},"\u884c\u653f\u90e8"),l.a.createElement(j,{value:"5"},"\u91c7\u8d2d\u90e8")))),l.a.createElement(D.a.Item,{label:"\u804c\u4f4d"},e("level",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u804c\u4f4d!"}]})(l.a.createElement(y.a,{placeholder:"\u8bf7\u9009\u62e9\u804c\u4f4d"},l.a.createElement(j,{value:"1"},"\u666e\u901a\u804c\u5458"),l.a.createElement(j,{value:"2"},"\u7ec4\u957f"),l.a.createElement(j,{value:"3"},"\u7ecf\u7406"),l.a.createElement(j,{value:"4"},"\u603b\u76d1"),l.a.createElement(j,{value:"5"},"\u8463\u4e8b\u957f")))),l.a.createElement("div",{style:{position:"absolute",left:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},l.a.createElement(p.a,{onClick:this.onClose,style:{marginRight:8}},"\u53d6\u6d88"),l.a.createElement(p.a,{htmlType:"submit",type:"primary"},"\u786e\u5b9a")))))}}]),t}(l.a.Component);S.ADD_EMPLOYEE_URL="http://localhost:8888/employee";var k=D.a.create()(S),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).getTableData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("params:",e),a.setState({loading:!0}),E()({url:t.url,method:"get",data:Object(s.a)({results:10},e),type:"json",success:function(e){var t=Object(s.a)({},a.state.pagination);0===e.status.code?(t.total=e.data.count,a.setState({data:e.data.results,pagination:t,loading:!1})):(alert(e.status.msg),a.setState({loading:!1}))},error:function(e){console.log(e),a.setState({loading:!1})}})},a.handleTableChange=function(e,t,n){console.log("filters:"+t),console.log("sorter:"+n);var l=Object(s.a)({},a.state.pagination);l.current=e.current,a.setState({pagination:l}),a.getTableData(Object(s.a)({results:e.pageSize,page:e.current,sortField:n.field,sortOrder:n.order},t))},a.onSelectChange=function(e){console.log("selectedRowKeys changed: ",e),a.setState({selectedRowKeys:e})},a.state={data:[],pagination:{},loading:!1,selectedRowKeys:[],confirmVisible:!1,confirmLoading:!1},a.showDeleteConfirmModal=a.showDeleteConfirmModal.bind(Object(h.a)(a)),a.handleDeleteCancel=a.handleDeleteCancel.bind(Object(h.a)(a)),a.handleDeleteOk=a.handleDeleteOk.bind(Object(h.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getTableData()}},{key:"showDeleteConfirmModal",value:function(){this.setState({confirmVisible:!0})}},{key:"handleDeleteOk",value:function(){var e=this,a=this.state.selectedRowKeys;this.setState({confirmLoading:!0}),E()({url:t.url,method:"delete",data:{ids:Array.from(a)},type:"json",success:function(t){console.log(t),e.setState({confirmVisible:!1,confirmLoading:!1,selectedRowKeys:[],data:[]})},error:function(e){console.log(e)}}).then(function(){e.getTableData()})}},{key:"handleDeleteCancel",value:function(){this.setState({confirmVisible:!1})}},{key:"render",value:function(){var e=this.state,t=e.deleteLoading,a=e.selectedRowKeys,n=e.confirmVisible,o=e.confirmLoading,r=e.data,i=e.pagination,s=e.loading,c={selectedRowKeys:a,onChange:this.onSelectChange},d=a.length>0;return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(p.a,{type:"primary",onClick:this.showDeleteConfirmModal,disabled:!d,loading:t,style:{margin:"10px 10px 10px 10px"}},"Delete"),l.a.createElement("span",{style:{marginLeft:8}},d?"\u9009\u62e9 ".concat(a.length," \u9879"):""),l.a.createElement(b.a,{title:"\u786e\u8ba4\u5220\u9664\uff1f",visible:n,confirmLoading:o,onOk:this.handleDeleteOk,onCancel:this.handleDeleteCancel,okType:"danger"},l.a.createElement("p",null,"\u5220\u9664\u540e\u5c06\u65e0\u6cd5\u6062\u590d")),l.a.createElement("div",{style:{padding:"10px 10px",float:"right"}},l.a.createElement(k,{updateTableData:this.getTableData.bind(this)}))),l.a.createElement(f.a,{rowSelection:c,bordered:!0,columns:[{title:"\u59d3\u540d",dataIndex:"name",render:function(e){return"".concat(e)},width:"20%"},{title:"\u5e74\u9f84",dataIndex:"age",sorter:!0,width:"20%"},{title:"\u6027\u522b",dataIndex:"gender",filters:[{text:"Male",value:"0"},{text:"Female",value:"1"}],width:"20%"},{title:"\u90e8\u95e8",dataIndex:"department",filters:[{text:"\u4ea7\u54c1\u90e8",value:"1"},{text:"\u6280\u672f\u90e8",value:"2"},{text:"\u8fd0\u8425\u90e8",value:"3"},{text:"\u884c\u653f\u90e8",value:"4"},{text:"\u91c7\u8d2d\u90e8",value:"5"}],width:"20%"},{title:"\u804c\u4f4d",dataIndex:"level",filters:[{text:"\u666e\u901a\u804c\u5458",value:"1"},{text:"\u7ec4\u957f",value:"2"},{text:"\u7ecf\u7406",value:"3"},{text:"\u603b\u76d1",value:"4"},{text:"\u8463\u4e8b\u957f",value:"5"}],width:"20%"}],rowKey:function(e){return e.id},dataSource:r,pagination:i,loading:s,onChange:this.handleTableChange}))}}]),t}(n.Component);T.url="http://localhost:8888/employee";var I=T,R=i.a.Header,L=i.a.Content,M=i.a.Footer;var K=function(){return l.a.createElement(i.a,{className:"layout"},l.a.createElement(R,null,l.a.createElement("h1",{style:{color:"white",textAlign:"center"}},"\u5458\u5de5\u4fe1\u606f\u7ba1\u7406\u7cfb\u7edf")),l.a.createElement(L,{style:{padding:"0 50px"}},l.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:800}},l.a.createElement(I,null))),l.a.createElement(M,{style:{textAlign:"center"}},"Employee Information Management System \xa92019 Created by React"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[169,1,2]]]);
//# sourceMappingURL=main.835bee5e.chunk.js.map